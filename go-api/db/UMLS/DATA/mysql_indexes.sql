-- Essential indexes for disease-symptom mapping tables

-- MRCONSO indexes (primary table for concepts)
CREATE INDEX X_MRCONSO_CUI ON MRCONSO(CUI);
ALTER TABLE MRCONSO ADD CONSTRAINT X_MRCONSO_PK PRIMARY KEY BTREE (AUI);
CREATE INDEX X_MRCONSO_SUI ON MRCONSO(SUI);
CREATE INDEX X_MRCONSO_LUI ON MRCONSO(LUI);
CREATE INDEX X_MRCONSO_CODE ON MRCONSO(CODE);
CREATE INDEX X_MRCONSO_SAB_TTY ON MRCONSO(SAB,TTY);
CREATE INDEX X_MRCONSO_STR ON MRCONSO(STR(255));

-- MRREL indexes (relationships between concepts)
CREATE INDEX X_MRREL_CUI1 ON MRREL(CUI1);
CREATE INDEX X_MRREL_AUI1 ON MRREL(AUI1);
CREATE INDEX X_MRREL_CUI2 ON MRREL(CUI2);
CREATE INDEX X_MRREL_AUI2 ON MRREL(AUI2);
ALTER TABLE MRREL ADD CONSTRAINT X_MRREL_PK PRIMARY KEY BTREE (RUI);
CREATE INDEX X_MRREL_SAB ON MRREL(SAB);

-- MRSTY indexes (semantic types)
CREATE INDEX X_MRSTY_CUI ON MRSTY(CUI);
ALTER TABLE MRSTY ADD CONSTRAINT X_MRSTY_PK PRIMARY KEY BTREE (ATUI);
CREATE INDEX X_MRSTY_STY ON MRSTY(STY);

-- MRHIER indexes (hierarchical relationships)
CREATE INDEX X_MRHIER_CUI ON MRHIER(CUI);
CREATE INDEX X_MRHIER_AUI ON MRHIER(AUI);
CREATE INDEX X_MRHIER_SAB ON MRHIER(SAB);
CREATE INDEX X_MRHIER_PTR ON MRHIER(PTR(255));
CREATE INDEX X_MRHIER_PAUI ON MRHIER(PAUI);

-- MRDEF indexes (definitions)
CREATE INDEX X_MRDEF_CUI ON MRDEF(CUI);
CREATE INDEX X_MRDEF_AUI ON MRDEF(AUI);
ALTER TABLE MRDEF ADD CONSTRAINT X_MRDEF_PK PRIMARY KEY BTREE (ATUI);
CREATE INDEX X_MRDEF_SAB ON MRDEF(SAB);

-- MRSAB indexes (source vocabularies)
ALTER TABLE MRSAB ADD CONSTRAINT X_MRSAB_PK PRIMARY KEY BTREE (VSAB);
CREATE INDEX X_MRSAB_RSAB ON MRSAB(RSAB);
